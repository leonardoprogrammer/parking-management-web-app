<h2>Alterar Senha</h2>
<form [formGroup]="changePasswordForm" (ngModelChange)="onFieldChange()">
  <p>
    <strong>Senha atual:</strong>
    <input type="password" formControlName="currentPassword" (input)="onFieldChange()" />
    <span *ngIf="changePasswordForm.get('currentPassword')?.invalid && changePasswordForm.get('currentPassword')?.touched">
      Senha atual é obrigatória.
    </span>
  </p>
  <p>
    <strong>Nova senha:</strong>
    <input type="password" formControlName="newPassword" (input)="onFieldChange()" />
    <span *ngIf="changePasswordForm.get('newPassword')?.invalid && changePasswordForm.get('newPassword')?.touched">
      Nova senha deve ter pelo menos 6 caracteres.
    </span>
  </p>
  <p>
    <strong>Confirmar nova senha:</strong>
    <input type="password" formControlName="confirmNewPassword" (input)="onFieldChange()" />
    <span *ngIf="changePasswordForm.get('confirmNewPassword')?.invalid && changePasswordForm.get('confirmNewPassword')?.touched">
      Confirmação de senha é obrigatória.
    </span>
    <span *ngIf="changePasswordForm.errors?.['mismatch'] && changePasswordForm.get('confirmNewPassword')?.touched">
      As senhas não coincidem.
    </span>
  </p>
  <div class="buttons">
    <button type="button" (click)="closeDialog()">Fechar</button>
    <button type="button" (click)="savePassword()" [disabled]="!isSaveEnabled">Salvar</button>
  </div>
</form>
